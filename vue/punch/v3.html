<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
	<title></title>
	<link rel="stylesheet" href="stylev3.css">
</head>
<body>
  <div id="vue-app" class="app-container">
		<div id="in-game" class="in-game">
				<div class="text-center pt-3"><h3>DragonBall Death Sentence</h3></div>
				<div class="text-center"><strong>You've Won {{ count }} Fights</strong></div>
				<h5 class="text-center">My HP</h5>
				<div id="myHealth" class="health">
					<div id="myGreen" v-bind:style="{ width: myHealth + 'px' }"></div>
				</div>

				<div v-on:click="punch()" id="bag" v-bind:class="{ black: ended }"  class="bag">
						<img id="punchIMG" class="punch on off img-fluid" src="site/punch.png" />
				</div>

				<div id="skills" class="skills">
						<div id="s-5" v-bind:class="unlockOne()" class="skill-con">
								<div v-on:click="skillOne" class="skill s-5"></div>
						</div>
						<div id="s-10" v-bind:class="unlockTwo()" class="skill-con">
								<div v-on:click="skillTwo" class="skill s-10"></div>
						</div>
						<div id="s-15" v-bind:class="unlockThree()" class="skill-con">
								<div v-on:click="skillThree" class="skill s-15"></div>
						</div>
				</div>

				<h5 class="text-center">Enemy's HP</h5>

				<div v-bind:class="newHero()" id="health" class="health">
					<div id="green" v-bind:style="{ width: health + 'px' }"></div>
				</div>

				<div id="restart">
					<!--<a class="btn btn-punch" v-on:click="restart()">Restart</a>-->
					<p><a href="v3.html" class="btn btn-punch">Restart</a></p>
				</div>
		</div>
		<div id="pop-up" class="pop-up-off">
				<h1>You've Unlocked a New Skill</h1>
				<p>Skills are very useful for fighting bosses. When using a skill you will always deal damage without taking any damage yourself. </p>
				<p>Skills to normal enemies will have less of an effect.</p>
				<p><a v-on:click="close()" class="btn btn-punch">Okay</a></p>
		</div>
		<div id="finished" class="finished contanter text-center">
				<h1>You Won</h1>
				<p><a href="v3.html" class="btn btn-punch">Restart</a></p>
		</div>
		<div id="lost" class="contanter text-center">
			<h1>Go Home Yamcha</h1>
			<p><a href="v3.html" class="btn btn-punch">Restart</a></p>
			<img class="img-fluid" src="site/yamchadead.jpeg" />
		</div>
  </div>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
            crossorigin="anonymous"></script>
  <!-- production version, optimized for size and speed -->
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script>
      var vm = new Vue({
          el: '#vue-app',
          data: {
						health: 200,
						myHealth: 200,
						inGame: false,
						ended: false,
						oneDown: false,
						count: 0,
						hit: 0,
						myHit: 0,
						crit: 0,
						hero: 0,
						skillCounterOne: 0,
						skillCounterTwo: 0,
						skillCounterThree: 0,
						skillOneUsed: false,
						skillTwoUsed: false,
						skillThreeUsed: false,
						pop: false,
						clickClose: false
          },
          methods: {
						punch: function() {
							var img = document.getElementById('punchIMG');
							var bag = document.getElementById('bag');
							var healthBar = document.getElementById('green');
							var myHealthBar = document.getElementById('green');
							var game = document.getElementById('in-game');
							var finished = document.getElementById('finished');
							var lost = document.getElementById('lost');

							img.classList.toggle('off');

							// Creates a random number
							this.crit = Math.floor(Math.random() * 20);
							this.hit = Math.floor(Math.random() * 4);
							this.myHit = Math.floor(Math.random() * 7);

							switch (true) {
								case this.myHit == 2:
									this.myHealth -= 1;
									break;
								case this.myHit == 4:
									this.myHealth -= 2;
							}

							if (this.health <= 5) {
								this.ended = true;
								img.classList.add('off');
							};


							// can tell if its a boss fight - not used for anything
							if (bag.classList.contains('boss')) {
								this.inGame = true;
							} else {
								this.inGame = false;
							};

							// when enemy health == 0 reset enemy health, my health, image and oneDown == true
							if (this.health <= 0) {
								this.health = 200;
								this.myHealth = 200;
								this.ended = false;
								this.oneDown = true;
							} else {
								this.oneDown = false;
							};


							// when oneDown == true add 1 to counter
							if (this.oneDown) {
								this.count += 1;
							};

							// both healthbars turn red when below 80
							if (this.health <= 80) {
								healthBar.classList.add('red');
							} else if (this.health >= 80) {
								healthBar.classList.remove('red');
							}

							if (this.myhealth <= 80) {
								myHealthBar.classList.add('red');
							} else if (this.health >= 80) {
								myHealthBar.classList.remove('red');
							}

							// change style of fist img at random intervals
							switch (true) {
								case this.hit == 1:
									img.classList.add('img1');
									img.classList.remove('img2');
									img.classList.remove('img3');
									break;
								case this.hit == 2:
									img.classList.add('img2');
									img.classList.remove('img1');
									img.classList.remove('img3');
									break;
								case this.hit == 3:
									img.classList.add('img3');
									img.classList.remove('img2');
									img.classList.remove('img1');
									break;

							}

							// boss damage done
							switch (true) {
								case this.count == 5:
										this.health -= 5;
										break;
								case this.count == 10:
										this.health -= 4;
										break;
								case this.count == 20:
										this.health -= 2;
										break;
								case this.count == 30:
										this.health -= 1;
										break;
								case this.count == 40:
										this.health -= 1;
										break;
								case this.count == 50:
										this.health -= 0.8;
										break;
								case this.count == 60:
										this.health -= 0.5;
										break;
								case this.count == 70:
										this.health -= 0.2;
										break;
								case this.count == 80:
										this.health -= 0.1;
										break;
								default:
										this.health -= 10;
							};

							// changes when game won
							if (this.count == 81) {
								finished.style.display = 'block';
								game.style.display = 'none';
							} else {
								finished.style.display = 'none';
							};

							//changes when game lost
							if (this.myHealth <= 0) {
								game.style.display = 'none';
								lost.style.display = 'block';
							} else {
								lost.style.display = 'none';
							};

							// Skills Counter off/on

							var skillOne = document.getElementById('s-5');
							var skillTwo = document.getElementById('s-10');
							var skillThree = document.getElementById('s-15');

							this.skillCounterOne += 1;
							this.skillCounterTwo += 1;
							this.skillCounterThree += 1;

							if(this.skillCounterOne == 5) {
								skillOne.classList.remove('skill-overlay');
								this.skillOneUsed == false;
							}

							if(this.skillCounterTwo == 10) {
								skillTwo.classList.remove('skill-overlay');
								this.skillTwoUsed == false;
							}

							if(this.skillCounterThree == 15) {
								skillThree.classList.remove('skill-overlay');
								this.skillThreeUsed == false;
							}

							//console.log('oneDown ' + this.oneDown);
							//console.log('inGame ' + this.inGame);
							console.log('health ' + this.health);
							//console.log('myHealth ' + this.myHealth);
							//console.log('count ' + this.count);
							//console.log('crit ' + this.crit);
							console.log('Count One ' + this.skillCounterOne);
						},
						newHero: function() {
							var bag = document.getElementById('bag');

							if (this.health <= 5) {
								this.hero = Math.floor(Math.random() * 8);
							}

							//console.log('hero' + this.hero);

							// Normal Enemies
							switch (true) {
								case this.hero == 0:
									bag.classList.add('gohan');
								break;
								case this.hero == 1:
									bag.classList.add('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('vegeta');
									bag.classList.remove('piccolo');
									bag.classList.remove('yamcha');
									bag.classList.remove('krillen');
									bag.classList.remove('trunks');
								break;
								case this.hero == 2:
									bag.classList.add('chichi');
									bag.classList.remove('gohan');
									bag.classList.remove('vegeta');
									bag.classList.remove('piccolo');
									bag.classList.remove('yamcha');
									bag.classList.remove('krillen');
									bag.classList.remove('trunks');
								break;
								case this.hero == 3:
									bag.classList.add('vegeta');
									bag.classList.remove('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('piccolo');
									bag.classList.remove('yamcha');
									bag.classList.remove('krillen');
									bag.classList.remove('trunks');

								break;
								case this.hero == 4:
									bag.classList.add('piccolo');
									bag.classList.remove('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('vegeta');
									bag.classList.remove('yamcha');
									bag.classList.remove('krillen');
									bag.classList.remove('trunks');
								break;
								case this.hero == 5:
									bag.classList.add('yamcha');
									bag.classList.remove('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('vegeta');
									bag.classList.remove('piccolo');
									bag.classList.remove('krillen');
									bag.classList.remove('trunks');
								break;
								case this.hero == 6:
									bag.classList.add('krillen');
									bag.classList.remove('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('vegeta');
									bag.classList.remove('piccolo');
									bag.classList.remove('yamcha');
									bag.classList.remove('trunks');
								break;
								case this.hero == 7:
									bag.classList.add('trunks');
									bag.classList.remove('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('vegeta');
									bag.classList.remove('piccolo');
									bag.classList.remove('yamcha');
									bag.classList.remove('krillen');
								break;
								case this.hero == 8:
									bag.classList.add('boss');
								break;
							};

							// Bosses
							switch (true) {
								case this.count == 5:
									bag.classList.add('boss');
									bag.classList.remove('gohan');
									bag.classList.remove('chichi');
									bag.classList.remove('vegeta');
									bag.classList.remove('piccolo');
									bag.classList.remove('yamcha');
									bag.classList.remove('krillen');
									bag.classList.remove('trunks');
									break;
								case this.count == 10:
										bag.classList.add('boss2');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 20:
										bag.classList.add('boss3');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 30:
										bag.classList.add('boss4');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 40:
										bag.classList.add('boss5');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 50:
										bag.classList.add('boss6');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 60:
										bag.classList.add('boss7');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 70:
										bag.classList.add('boss8');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
								case this.count == 80:
										bag.classList.add('boss9');
										bag.classList.remove('gohan');
										bag.classList.remove('chichi');
										bag.classList.remove('vegeta');
										bag.classList.remove('piccolo');
										bag.classList.remove('yamcha');
										bag.classList.remove('krillen');
										bag.classList.remove('trunks');
										break;
							};
						},
						restart: function() {
							var img = document.getElementById('punchIMG');
							var bag = document.getElementById('bag');
							var skillOne = document.getElementById('s-5');
							var skillTwo = document.getElementById('s-10');
							var skillThree = document.getElementById('s-15');

							this.health = 200;
							this.myHealth = 200;
							this.ended = false;
							this.count = 0;
							img.classList.add('off');

							bag.classList.remove('gohan');
							bag.classList.remove('chichi');
							bag.classList.remove('vegeta');
							bag.classList.remove('piccolo');
							bag.classList.remove('yamcha');
							bag.classList.remove('krillen');
							bag.classList.remove('trunks');
							skillOne.classList.remove('skill-overlay');
							skillTwo.classList.remove('skill-overlay');
							skillThree.classList.remove('skill-overlay');
						},
						skillOne: function() {
								var skill = document.getElementById('s-5');

								this.health -= 5;
								this.skillOneUsed = true;
								this.skillCounterOne = 0;

								if(this.skillOneUsed == true) {
									skill.classList.add('skill-overlay');
								}


						},
						skillTwo: function() {
								var skill = document.getElementById('s-10');

								this.health -= 10;
								this.skillTwoUsed = true;
								this.skillCounterTwo = 0;

								if(this.skillTwoUsed == true) {
									skill.classList.add('skill-overlay');
								}
						},
						skillThree: function() {
								var skill = document.getElementById('s-15');

								this.health -= 15;
								this.skillThreeUsed = true;
								this.skillCounterThree = 0;

								if(this.skillThreeUsed == true) {
									skill.classList.add('skill-overlay');
								}
						},
						unlockOne: function() {
							var skill = document.getElementById('s-5');
							var popUp = document.getElementById('pop-up');

							if (this.count == 6 && this.clickClose == false) {
								skill.style.display = "block";
								this.pop = true;
							} else if (this.count == 6 && this.clickClose == true) {
								skill.style.display = "block";
								this.pop = false;
							}

							switch (true) {
								case this.pop == true:
									popUp.classList.add('pop-up-on');
									break;
								case this.pop == false:
									popUp.classList.remove('pop-up-on');
									break;
							}

							console.log('pop ' + this.pop);
						},
						unlockTwo: function() {
							var skill = document.getElementById('s-10');
							var popUp = document.getElementById('pop-up');

							if (this.count == 21 && this.clickClose == false) {
								skill.style.display = "block";
								this.pop = true;
							} else if (this.count == 21 && this.clickClose == true) {
								skill.style.display = "block";
								this.pop = false;
							}

							switch (true) {
								case this.pop == true:
									popUp.classList.add('pop-up-on');
									break;
								case this.pop == false:
									popUp.classList.remove('pop-up-on');
									break;
							}
						},
						unlockThree: function() {
							var skill = document.getElementById('s-15');
							var popUp = document.getElementById('pop-up');

							if (this.count == 41 && this.clickClose == false) {
								skill.style.display = "block";
								this.pop = true;
							} else if (this.count == 41 && this.clickClose == true) {
								skill.style.display = "block";
								this.pop = false;
							}

							switch (true) {
								case this.pop == true:
									popUp.classList.add('pop-up-on');
									break;
								case this.pop == false:
									popUp.classList.remove('pop-up-on');
									break;
							}
						},
						close: function() {
							var popUp = document.getElementById('pop-up');

							popUp.classList.remove('pop-up-on');
							this.pop = false;
							this.clickClose = true;
							console.log('pop ' + this.pop);
						}
          },
          computed: {

          }
      });
  </script>
</body>
</html>
